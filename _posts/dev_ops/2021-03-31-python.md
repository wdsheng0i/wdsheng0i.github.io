---
layout: post
title: Python语言介绍
category: dev-ops
tags: [ dev-ops ]
---

python语言基础

## 参考资料

- 官网：https://www.python.org/
- 下载：http://python.p2hp.com/downloads/
    - https://www.python.org/downloads/release/python-275/
- 教程 https://www.runoob.com/python3/python3-install.html
    - [Python 系列文章](http://www.ityouknow.com/python.html)
- Django：是一个开源的Web应用框架，由Python写成。采用了MTV的框架模式，即模型M，视图V和模版T
    - https://docs.djangoproject.com/zh-hans/3.2//
- DRF: Django REST Framework框架是是建立在Django框架基础之上，用于构建Web API的工具

## 一、python语言基础

- Python 是一种解释型语言： 这意味着开发过程中没有了编译这个环节。类似于PHP和Perl语言。
- Python 是交互式语言： 这意味着，您可以在一个 Python 提示符 >>> 后直接执行代码。
- Python 是面向对象语言: 这意味着Python支持面向对象的风格或代码封装在对象的编程技术。
- 一个广泛的标准库：Python的最大的优势之一是丰富的库，跨平台的，在UNIX，Windows和Macintosh兼容很好

### 1.1 运行环境[安装](https://www.python.org/downloads/)

- win: python3环境与工具的安装 https://blog.csdn.net/m0_37899908/article/details/101793590
- linux: CentOS7 安装 Python 3.9.0[通俗易懂] https://cloud.tencent.com/developer/article/2155476
- CentOS 7安装Python3环境详细指南 https://blog.csdn.net/m0_73873732/article/details/145776246

**CentOS 7 的 yum 等工具依赖 Python 2，切勿删除 /usr/bin/python 或强行替换为 Python 3**

```
#安装编译依赖
yum groupinstall -y "Development Tools" #用于在基于 Red Hat 的 Linux 发行版（如 CentOS、Fedora、RHEL 等）中安装一组常用的开发工具。这个命令通过 YUM 包管理器自动安装一组预定义的软件包，这些软件包通常包括编译器（如 GCC）、调试工具、源代码管理等
yum install -y openssl-devel bzip2-devel libffi-devel
# yum -y install zlib zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel
# yum install -y openssl-devel bzip2-devel libffi-devel zlib-devel

#下载并解压 Python 源码
wget https://www.python.org/ftp/python/3.10.12/Python-3.10.12.tgz
tar -xvf Python-3.10.12.tgz
cd Python-3.10.12

#配置、编译并安装
./configure --prefix=/usr/local/python3 --with-ensurepip=install # prefix指定安装路径，避免覆盖系统自带python， --with-ensurepip=install确保编译安装时捆绑并启用 pip（Python 官方包管理工具）
make -j$(nproc)  #-j启用并行编译（多线程/多进程），可大幅缩短编译时间, $(nproc)是一个 Shell 命令，返回当前系统的 CPU 物理核心数,make -j$(nproc) = 用与 CPU 核心数相同的并行任务数量编译代码。
make altinstall  # 使用 `altinstall` 避免覆盖系统 Python

#配置环境变量
vi ~/.bashrc，添加
alias python3=/usr/local/python3/bin/python3.10
alias pip3=/usr/local/python3/bin/pip3.10

source ~/.bashrc # 生效

#验证安装
python3 --version  # 输出应为 Python 3.10.12

#配置PIP镜像，默认的pip在国内下载库很慢，因此配置pip镜像是必要的，进入/etc目录，执行如下命令创建编辑pip.conf文件
vi pip.conf
[global]
index-url = http://mirrors.aliyun.com/pypi/simple/
 
[install]
trusted-host = mirrors.aliyun.com

#没有系统命令时
ln -s /usr/local/python3/bin/python3.10 /usr/bin/python3 # 创建全局软链接
python3 --version  # 应输出 Python 3.x.x
```

![](https://wdsheng0i.github.io/assets/images/2021/docker/python.png)

### 1.2 程序运行

方式一：cmd中,输入python回车即可打开python命令终端

```
# 输出hello python示例
print("hello python!")
```

方式二：运行python程序脚本文件 hello.py

```
# 1.hello.py  输入 输出示例
name = input("请输入姓名: ");
print("hello" + ": " + name);

# 2.cmd命令行运行该脚本文件  
D:\Python>python ./hello.py
请输入姓名： wds
hello： wds
```

### 1.3 基础语法

[菜鸟教程](https://www.runoob.com/python/python-basic-syntax.html)

- Python 中文编码：Python中默认的编码格式是 ASCII 格式，在文件开头加入# coding=utf-8
- 行和缩进：Python 的代码块不使用大括号 {} 来控制类，函数以及其他逻辑判断。python是用缩进来写模块。所有代码块语句必须包含相同的缩进，必须严格执行。
- 多行语句：斜杠（ \）将一行的语句分为多行显示，语句中包含 [], {} 或 () 括号就不需要使用多行连接符
- 引号：Python 可以使用引号( ' )、双引号( " )、三引号( ''' 或 """ ) 来表示字符串
- 注释：单行注释采用 # 开头 多行注释使用三个单引号(''')或三个双引号(""")
- print 输出：print 默认输出是换行的，如果要实现不换行需要在变量末尾加上逗号","
- 像if、while、def和class这样的复合语句，首行以关键字开始，以冒号( : )结束，该行之后的一行或多行代码构成代码组。

### 1.4 数据类型

Python 中的变量赋值不需要类型声明。

- 多个变量赋值: a = b = c = 1
- 多个对象指定多个变量: a, b, c = 1, 2, "john"

Python 定义五个标准的数据类型，用于存储各种类型的数据。

- Numbers（数字）
    - int（有符号整型）
    - long（长整型，也可以代表八进制和十六进制）
    - float（浮点型）
    - complex（复数）
- String（字符串）
- List（列表）：用[]表示；元素类型可不同
    - 示例：list = [ 'runoob', 786 , 2.23, 'john', 70.2 ]
- Tuple（元组）：用 () 标识。元素类型可不同，内部元素用逗号隔开。但是元组不能二次赋值，相当于只读列表。
    - 示例：tuple = ( 'runoob', 786 , 2.23, 'john', 70.2 )
- Dictionary（字典）：字典用"{ }"标识，由索引(key)和它对应的值value组成。 示例：

```
dict = {}
dict['one'] = "This is one"
dict[2] = "This is two"
tinydict = {'name': 'runoob','code':6734, 'dept': 'sales'}
```

### 1.5 运算符

+-*/...

### 1.6 条件语句

if
else:

### 1.7 循环语句

- while循环
- for循环
- break
- continue
- pass 是空语句，是为了保持程序结构的完整性。 不做任何事情，一般用做占位语句。

### 1.8 日期和时间

Python 提供了一个 time 和 calendar 模块可以用于格式化日期和时间

### 1.9 函数

### 1.10 内置函数

### 1.11 异常

### 1.12 面向对象

### 1.13 文件I/O

### 1.14 File

### 1.15 OS文件/目录

### 1.16 多线程

## 二、python程序应用

### 2.1 [pip（python依赖包管理-类比maven）](https://blog.csdn.net/qq_41064122/article/details/128015528)

python程序的时候，需要一些依赖包，这时候就需要用到pip命令了。python从3.x版本开始默认是会自动安装pip

- [Python获取项目依赖和安装依赖包](https://blog.csdn.net/fanfangyu/article/details/131363017)
- [python一键下载依赖库命令 python安装依赖包](https://blog.51cto.com/u_14844/6524106)

``` 
# 1.查看当前python环境已安装包的列表
pip list

# 2.查看当前pip的版本
pip -V

# 3.安装包
pip install  packageName

# 4.卸载包
pip uninstall  packageName

# 5.升级包
pip install --upgrade  packageName

# 6.升级pip
python -m pip install --upgrade pip

# 7.查看可升级的包
pip list -o

# 8.镜像源
清华源：https://pypi.tuna.tsinghua.edu.cn/simple
阿里源：https://mirrors.aliyun.com/pypi/simple/
使用方法：
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pysftp 
pip install pysftp  -i https://mirrors.aliyun.com/pypi/simple/
```

### 2.2 示例1：连接mysql增删改查

安装python -m pip install mysql-connector

### 2.3 示例2：读写本地文件

### 2.4 示例3：http请求api

### 2.5 示例4：ftp链接、上传、下载

## 三、Web应用框架Django

## 四、Web API的工具DRF: Django REST Framework

## 问题记录
