## xxx平台项目升级方案 FOR-VERSION:3.0.1
- 作者:  
- 时间:

## 一、升级说明 
- 本文档仅适用于xxx项目平台项目3.0.0升级至3.0.1版本提测及上线，为测试及运维团队提供升级依据。
- 本次升级涉及后端、前端WEB程序的变更或重启。
- 本版本升级为小版本升级, 升级过程复杂度: 低
    
## 二、升级目的 
- bug修复: 修复3.0.0版本中的缺陷  
    - 1.【请假休息日也可以请假】
- 常规功能性更新；  
    - 1.【剩余调休时长修改权限的增加】 

## 三、升级时间
yyyy-MM-dd
     
## 四、升级补丁包、配置、脚本 
- 后端：server.jar
- 前端：web.zip
- 移动端：app.zip
- 脚本：3.0.1.sql
- 配置：apollo.txt

## 五、升级步骤 
- 1.关闭Nginx对应端口
- 2.备份现有数据库：dbbakyyyyMMdd.sql
- 3.停用上版本各业务后端server服务
- 4.修改apollo配置
- 5.执行sql脚本
- 6.备份、上传新版本业务包, 前端, app程序 
- 7.启动各业务后端server包, 替换前端程序包, 或者将Nginx前端目录配置指导新目录 
- 8.验证启动成功：打开对应的web页，如对应的版本号标示修改成3.0.0-beat字样则说明升级成功。

## 六、回滚策略
- 1.前端包回滚:关闭服务，使用备份的上一版本前端程序替换现版本，重启服务。
- 2.后端程序回滚
- 3.数据库回滚
- 4.Redis缓存清除 

